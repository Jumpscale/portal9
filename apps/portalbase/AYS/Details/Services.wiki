@usedefaults
h3. AYS Services
h2. test

{{datatables_use}}
{{aysservices reponame:$$reponame}}
{{breadcrumb:
    {% if reponame or error %}
    - Repositories: /AYS/repos
    - Repo $$reponame: /AYS/Repo?&reponame=$$reponame
    {% endif %}
    - Services: /AYS/services
}}
{% if error is defined %}
Error : ${error}

{% else %}

{{actions:
- display: Delete Service
  action: /restmachine/system/atyourservice/deleteService
  showresponse: True
  hide: True
}}
|| Actor Name || Name || State || Actions ||
    {% for service in services -%}
      | ${service.role} | [${service.name}|Service?aysrole=${service.role}&aysname=${service.name}&reponame=${reponame}] | ${service.state} | {{action label:'Delete' deleterow:true id:'action-DeleteService' class:'glyphicon glyphicon-trash' data-repository:'$$reponame' data-role:'${service.role}' data-instance:'${service.name}'}} |
    {% else %}
    This repository doesn't contain any service instance yet.
    {% endfor %}

{%endif%}
